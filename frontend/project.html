<!DOCTYPE html>
<html>
<head>
  <title>Sustainable Smart City Assistant</title>
  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f2f9f2;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='600' viewBox='0 0 800 600'%3E%3C!-- Sky --%3E%3Crect width='800' height='600' fill='%23e9f5ec'/%3E%3C!-- Sun --%3E%3Ccircle cx='650' cy='100' r='60' fill='%23ffdd55'/%3E%3C!-- Mountain --%3E%3Cpolygon points='0,300 200,150 400,250 600,100 800,300 800,600 0,600' fill='%2367a573'/%3E%3C!-- Small hills --%3E%3Cellipse cx='150' cy='300' rx='180' ry='50' fill='%2378c385'/%3E%3Cellipse cx='400' cy='320' rx='200' ry='40' fill='%2389d196'/%3E%3Cellipse cx='650' cy='300' rx='180' ry='60' fill='%2378c385'/%3E%3C!-- City skyline --%3E%3Crect x='150' y='220' width='50' height='80' fill='%23aad4b3'/%3E%3Crect x='210' y='200' width='40' height='100' fill='%23a0cca9'/%3E%3Crect x='260' y='180' width='60' height='120' fill='%23aad4b3'/%3E%3Crect x='330' y='210' width='35' height='90' fill='%23a0cca9'/%3E%3Crect x='375' y='170' width='50' height='130' fill='%23aad4b3'/%3E%3Crect x='435' y='190' width='40' height='110' fill='%23a0cca9'/%3E%3Crect x='485' y='210' width='30' height='90' fill='%23aad4b3'/%3E%3Crect x='525' y='180' width='55' height='120' fill='%23a0cca9'/%3E%3Crect x='590' y='200' width='45' height='100' fill='%23aad4b3'/%3E%3C!-- Wind turbines --%3E%3Crect x='100' y='170' width='6' height='130' fill='%23ffffff'/%3E%3Ccircle cx='103' cy='170' r='25' fill='%23e2ffe9' fill-opacity='0.6'/%3E%3Cpath d='M103,170 L83,150 L123,150 Z' fill='%23ffffff'/%3E%3Cpath d='M103,170 L83,190 L123,190 Z' fill='%23ffffff'/%3E%3Cpath d='M103,170 L103,140 L103,200 Z' fill='%23ffffff'/%3E%3Crect x='650' y='150' width='6' height='150' fill='%23ffffff'/%3E%3Ccircle cx='653' cy='150' r='25' fill='%23e2ffe9' fill-opacity='0.6'/%3E%3Cpath d='M653,150 L633,130 L673,130 Z' fill='%23ffffff'/%3E%3Cpath d='M653,150 L633,170 L673,170 Z' fill='%23ffffff'/%3E%3Cpath d='M653,150 L653,120 L653,180 Z' fill='%23ffffff'/%3E%3C!-- Solar panels --%3E%3Crect x='710' y='240' width='60' height='40' fill='%233366aa'/%3E%3Cline x1='720' y1='240' x2='720' y2='280' stroke='%23111122' stroke-width='1'/%3E%3Cline x1='730' y1='240' x2='730' y2='280' stroke='%23111122' stroke-width='1'/%3E%3Cline x1='740' y1='240' x2='740' y2='280' stroke='%23111122' stroke-width='1'/%3E%3Cline x1='750' y1='240' x2='750' y2='280' stroke='%23111122' stroke-width='1'/%3E%3Cline x1='760' y1='240' x2='760' y2='280' stroke='%23111122' stroke-width='1'/%3E%3Cline x1='710' y1='250' x2='770' y2='250' stroke='%23111122' stroke-width='1'/%3E%3Cline x1='710' y1='260' x2='770' y2='260' stroke='%23111122' stroke-width='1'/%3E%3Cline x1='710' y1='270' x2='770' y2='270' stroke='%23111122' stroke-width='1'/%3E%3C!-- Trees in foreground --%3E%3Ccircle cx='50' cy='300' r='20' fill='%2352b788'/%3E%3Crect x='48' y='320' width='4' height='30' fill='%23654321'/%3E%3Ccircle cx='750' cy='290' r='15' fill='%2352b788'/%3E%3Crect x='748' y='305' width='4' height='25' fill='%23654321'/%3E%3C/svg%3E");
      background-size: cover;
      background-position: center top;
      background-attachment: fixed;
      color: #333;
    }
    
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 40px 20px;
    }
    
    header {
      text-align: center;
      padding: 30px 0;
      background: linear-gradient(135deg, rgba(58, 125, 68, 0.9) 0%, rgba(29, 99, 132, 0.9) 100%);
      border-radius: 12px;
      margin-bottom: 30px;
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    
    h1 {
      color: #ffffff;
      font-size: 2.5rem;
      margin: 0;
      letter-spacing: 1px;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
    }
    
    .subtitle {
      color: #e0f0e3;
      font-size: 1.2rem;
      margin-top: 10px;
    }
    
    .card {
      background-color: transparent;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.15);
      margin-bottom: 30px;
      transition: transform 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .card::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-size: cover;
      background-position: center;
      opacity: 0.7;
      z-index: -1;
    }
    
    .card:nth-of-type(1)::before {
      /* Smart city background */
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='500' viewBox='0 0 800 500'%3E%3Crect width='800' height='500' fill='%23e6f7ff'/%3E%3C!-- Sky --%3E%3Crect width='800' height='500' fill='%23e6f7ff'/%3E%3C!-- Sun --%3E%3Ccircle cx='700' cy='100' r='50' fill='%23ffdd44'/%3E%3C!-- Buildings --%3E%3Crect x='50' y='200' width='100' height='300' fill='%2399ccee'/%3E%3Crect x='60' y='220' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='90' y='220' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='60' y='250' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='90' y='250' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='60' y='280' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='90' y='280' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='170' y='150' width='120' height='350' fill='%2366aadd'/%3E%3Crect x='190' y='170' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='220' y='170' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='250' y='170' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='190' y='200' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='220' y='200' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='250' y='200' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='190' y='230' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='220' y='230' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='250' y='230' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='190' y='260' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='220' y='260' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='250' y='260' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='310' y='250' width='80' height='250' fill='%2388bbee'/%3E%3Crect x='325' y='270' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='355' y='270' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='325' y='300' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='355' y='300' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='325' y='330' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='355' y='330' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='410' y='180' width='130' height='320' fill='%2377aacc'/%3E%3Crect x='430' y='200' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='460' y='200' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='490' y='200' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='430' y='230' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='460' y='230' width='20' height='20' fill='%23ffffff'/%3E%3Crect x='490' y='230' width='20' height='20' fill='%23ffffff'/%3E%3C!-- Solar panels --%3E%3Crect x='430' y='180' width='80' height='15' fill='%233366aa'/%3E%3Crect x='60' y='200' width='70' height='10' fill='%233366aa'/%3E%3C!-- Trees --%3E%3Ccircle cx='600' cy='380' r='30' fill='%2352b788'/%3E%3Ccircle cx='650' cy='400' r='25' fill='%2352b788'/%3E%3Ccircle cx='680' cy='380' r='35' fill='%2352b788'/%3E%3Crect x='595' y='410' width='10' height='90' fill='%23885533'/%3E%3Crect x='645' y='425' width='10' height='75' fill='%23885533'/%3E%3Crect x='675' y='415' width='10' height='85' fill='%23885533'/%3E%3C!-- Road --%3E%3Crect x='0' y='450' width='800' height='50' fill='%23999999'/%3E%3Crect x='30' y='475' width='60' height='5' fill='%23ffffff'/%3E%3Crect x='130' y='475' width='60' height='5' fill='%23ffffff'/%3E%3Crect x='230' y='475' width='60' height='5' fill='%23ffffff'/%3E%3Crect x='330' y='475' width='60' height='5' fill='%23ffffff'/%3E%3Crect x='430' y='475' width='60' height='5' fill='%23ffffff'/%3E%3Crect x='530' y='475' width='60' height='5' fill='%23ffffff'/%3E%3Crect x='630' y='475' width='60' height='5' fill='%23ffffff'/%3E%3Crect x='730' y='475' width='60' height='5' fill='%23ffffff'/%3E%3C/svg%3E");
    }
    
    .card:nth-of-type(2)::before {
      /* Community garden background */
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='500' viewBox='0 0 800 500'%3E%3C!-- Sky --%3E%3Crect width='800' height='500' fill='%23e8f4ea'/%3E%3C!-- Sun --%3E%3Ccircle cx='80' cy='80' r='40' fill='%23ffdd55'/%3E%3C!-- Clouds --%3E%3Cellipse cx='180' cy='100' rx='40' ry='20' fill='%23ffffff'/%3E%3Cellipse cx='220' cy='90' rx='50' ry='25' fill='%23ffffff'/%3E%3Cellipse cx='260' cy='105' rx='35' ry='20' fill='%23ffffff'/%3E%3C!-- Garden plots --%3E%3Crect x='50' y='300' width='700' height='200' fill='%23c8b388'/%3E%3C!-- Garden beds --%3E%3Crect x='100' y='320' width='120' height='60' fill='%23663300'/%3E%3Crect x='250' y='320' width='120' height='60' fill='%23663300'/%3E%3Crect x='400' y='320' width='120' height='60' fill='%23663300'/%3E%3Crect x='550' y='320' width='120' height='60' fill='%23663300'/%3E%3Crect x='100' y='400' width='120' height='60' fill='%23663300'/%3E%3Crect x='250' y='400' width='120' height='60' fill='%23663300'/%3E%3Crect x='400' y='400' width='120' height='60' fill='%23663300'/%3E%3Crect x='550' y='400' width='120' height='60' fill='%23663300'/%3E%3C!-- Plants --%3E%3C!-- Row 1 --%3E%3Ccircle cx='120' cy='335' r='10' fill='%2352b788'/%3E%3Ccircle cx='150' cy='335' r='10' fill='%2352b788'/%3E%3Ccircle cx='180' cy='335' r='10' fill='%2352b788'/%3E%3Ccircle cx='270' cy='335' r='10' fill='%2372d09a'/%3E%3Ccircle cx='300' cy='335' r='10' fill='%2372d09a'/%3E%3Ccircle cx='330' cy='335' r='10' fill='%2372d09a'/%3E%3Ccircle cx='420' cy='335' r='10' fill='%233d9970'/%3E%3Ccircle cx='450' cy='335' r='10' fill='%233d9970'/%3E%3Ccircle cx='480' cy='335' r='10' fill='%233d9970'/%3E%3Ccircle cx='570' cy='335' r='10' fill='%2352b788'/%3E%3Ccircle cx='600' cy='335' r='10' fill='%2352b788'/%3E%3Ccircle cx='630' cy='335' r='10' fill='%2352b788'/%3E%3C!-- Row 2 --%3E%3Ccircle cx='120' cy='365' r='10' fill='%2352b788'/%3E%3Ccircle cx='150' cy='365' r='10' fill='%2352b788'/%3E%3Ccircle cx='180' cy='365' r='10' fill='%2352b788'/%3E%3Ccircle cx='270' cy='365' r='10' fill='%2372d09a'/%3E%3Ccircle cx='300' cy='365' r='10' fill='%2372d09a'/%3E%3Ccircle cx='330' cy='365' r='10' fill='%2372d09a'/%3E%3Ccircle cx='420' cy='365' r='10' fill='%233d9970'/%3E%3Ccircle cx='450' cy='365' r='10' fill='%233d9970'/%3E%3Ccircle cx='480' cy='365' r='10' fill='%233d9970'/%3E%3Ccircle cx='570' cy='365' r='10' fill='%2352b788'/%3E%3Ccircle cx='600' cy='365' r='10' fill='%2352b788'/%3E%3Ccircle cx='630' cy='365' r='10' fill='%2352b788'/%3E%3C!-- Row 3 --%3E%3Ccircle cx='120' cy='415' r='10' fill='%23e06c36'/%3E%3Ccircle cx='150' cy='415' r='10' fill='%23e06c36'/%3E%3Ccircle cx='180' cy='415' r='10' fill='%23e06c36'/%3E%3Ccircle cx='270' cy='415' r='10' fill='%23efac34'/%3E%3Ccircle cx='300' cy='415' r='10' fill='%23efac34'/%3E%3Ccircle cx='330' cy='415' r='10' fill='%23efac34'/%3E%3Ccircle cx='420' cy='415' r='10' fill='%23bf2a2a'/%3E%3Ccircle cx='450' cy='415' r='10' fill='%23bf2a2a'/%3E%3Ccircle cx='480' cy='415' r='10' fill='%23bf2a2a'/%3E%3Ccircle cx='570' cy='415' r='10' fill='%239b59b6'/%3E%3Ccircle cx='600' cy='415' r='10' fill='%239b59b6'/%3E%3Ccircle cx='630' cy='415' r='10' fill='%239b59b6'/%3E%3C!-- Row 4 --%3E%3Ccircle cx='120' cy='445' r='10' fill='%23e06c36'/%3E%3Ccircle cx='150' cy='445' r='10' fill='%23e06c36'/%3E%3Ccircle cx='180' cy='445' r='10' fill='%23e06c36'/%3E%3Ccircle cx='270' cy='445' r='10' fill='%23efac34'/%3E%3Ccircle cx='300' cy='445' r='10' fill='%23efac34'/%3E%3Ccircle cx='330' cy='445' r='10' fill='%23efac34'/%3E%3Ccircle cx='420' cy='445' r='10' fill='%23bf2a2a'/%3E%3Ccircle cx='450' cy='445' r='10' fill='%23bf2a2a'/%3E%3Ccircle cx='480' cy='445' r='10' fill='%23bf2a2a'/%3E%3Ccircle cx='570' cy='445' r='10' fill='%239b59b6'/%3E%3Ccircle cx='600' cy='445' r='10' fill='%239b59b6'/%3E%3Ccircle cx='630' cy='445' r='10' fill='%239b59b6'/%3E%3C!-- Path --%3E%3Crect x='0' y='280' width='800' height='20' fill='%23bbaa88'/%3E%3C/svg%3E");
    }
    
    .card:nth-of-type(3)::before {
      /* Smart transportation background */
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='500' viewBox='0 0 800 500'%3E%3C!-- Sky --%3E%3Crect width='800' height='500' fill='%23e6f0fa'/%3E%3C!-- Buildings --%3E%3Crect x='0' y='100' width='100' height='250' fill='%23aabbcc'/%3E%3Crect x='120' y='150' width='80' height='200' fill='%2399aabb'/%3E%3Crect x='220' y='80' width='120' height='270' fill='%23bbccdd'/%3E%3Crect x='360' y='180' width='100' height='170' fill='%23aabbcc'/%3E%3Crect x='480' y='130' width='90' height='220' fill='%2399aabb'/%3E%3Crect x='590' y='100' width='110' height='250' fill='%23bbccdd'/%3E%3Crect x='720' y='150' width='80' height='200' fill='%23aabbcc'/%3E%3C!-- Road --%3E%3Crect x='0' y='350' width='800' height='150' fill='%23666666'/%3E%3C!-- Road markings --%3E%3Crect x='30' y='425' width='60' height='8' fill='%23ffffff'/%3E%3Crect x='130' y='425' width='60' height='8' fill='%23ffffff'/%3E%3Crect x='230' y='425' width='60' height='8' fill='%23ffffff'/%3E%3Crect x='330' y='425' width='60' height='8' fill='%23ffffff'/%3E%3Crect x='430' y='425' width='60' height='8' fill='%23ffffff'/%3E%3Crect x='530' y='425' width='60' height='8' fill='%23ffffff'/%3E%3Crect x='630' y='425' width='60' height='8' fill='%23ffffff'/%3E%3Crect x='730' y='425' width='60' height='8' fill='%23ffffff'/%3E%3C!-- Bike lane --%3E%3Crect x='0' y='370' width='800' height='30' fill='%2390EE90'/%3E%3C!-- Bike symbol --%3E%3Ccircle cx='100' cy='385' r='8' stroke='%23ffffff' stroke-width='2' fill='none'/%3E%3Ccircle cx='130' cy='385' r='8' stroke='%23ffffff' stroke-width='2' fill='none'/%3E%3Cpath d='M100,385 L130,385 L115,370 L100,385' stroke='%23ffffff' stroke-width='2' fill='none'/%3E%3C!-- Electric bus --%3E%3Crect x='300' y='390' width='120' height='30' rx='5' fill='%233498db'/%3E%3Crect x='310' y='400' width='20' height='10' fill='%23cceeff'/%3E%3Crect x='340' y='400' width='20' height='10' fill='%23cceeff'/%3E%3Crect x='370' y='400' width='20' height='10' fill='%23cceeff'/%3E%3Ccircle cx='320' cy='420' r='8' fill='%23333333'/%3E%3Ccircle cx='400' cy='420' r='8' fill='%23333333'/%3E%3C!-- Electric car --%3E%3Crect x='500' y='400' width='60' height='20' rx='5' fill='%2327ae60'/%3E%3Crect x='510' y='405' width='15' height='8' fill='%23cceeff'/%3E%3Crect x='535' y='405' width='15' height='8' fill='%23cceeff'/%3E%3Ccircle cx='510' cy='420' r='5' fill='%23333333'/%3E%3Ccircle cx='550' cy='420' r='5' fill='%23333333'/%3E%3C!-- Charging station --%3E%3Crect x='600' y='380' width='20' height='40' fill='%23444444'/%3E%3Crect x='605' y='370' width='10' height='10' fill='%23ffcc00'/%3E%3Cpath d='M610,390 L615,380 L605,380 L610,390' fill='%23ffcc00'/%3E%3C/svg%3E");
    }
    
    .card-content {
      background-color: rgba(255, 255, 255, 0.8);
      padding: 20px;
      border-radius: 8px;
      backdrop-filter: blur(3px);
    }
    
    .card:hover {
      transform: translateY(-5px);
    }
    
    .card h3 {
      color: #3a7d44;
      margin-top: 0;
      display: flex;
      align-items: center;
      font-size: 1.4rem;
    }
    
    .card h3 span {
      margin-right: 10px;
      font-size: 1.6rem;
    }
    
    input[type="text"] {
      width: 75%;
      padding: 12px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      transition: border-color 0.3s;
    }
    
    input[type="text"]:focus {
      border-color: #3a7d44;
      outline: none;
    }
    
    button {
      background-color: #3a7d44;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s;
    }
    
    button:hover {
      background-color: #2c5d33;
    }
    
    #response {
      padding: 15px;
      margin-top: 15px;
      border-left: 4px solid #3a7d44;
      background-color: #f2f9f2;
      border-radius: 0 8px 8px 0;
      line-height: 1.5;
    }
    
    ul {
      list-style-type: none;
      padding: 0;
    }
    
    li {
      padding: 10px 0;
      border-bottom: 1px solid #eee;
      display: flex;
      align-items: center;
    }
    
    li:before {
      content: "🌱";
      margin-right: 10px;
    }
    
    li:last-child {
      border-bottom: none;
    }
    
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .feature-item {
      background-color: #f2f9f2;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
    }
    
    .feature-icon {
      font-size: 2rem;
      color: #3a7d44;
      margin-bottom: 10px;
    }
    
    footer {
      text-align: center;
      margin-top: 30px;
      color: #666;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>🌍 Sustainable Smart City Assistant</h1>
      <div class="subtitle">Building greener communities together</div>
    </header>
    
    <div class="card">
      <div class="card-content">
        <h3><span>💬</span> Ask a Question</h3>
        <form id="queryForm">
          <input type="text" id="question" placeholder="e.g. How can I reduce waste in my neighborhood?">
          <button type="submit">Ask</button>
        </form>
        <div id="response"></div>
      </div>
    </div>

    <div class="card">
      <div class="card-content">
        <h3><span>📌</span> Daily Sustainability Tips</h3>
        <ul id="tips"></ul>
      </div>
    </div>
    
    <div class="card">
      <div class="card-content">
        <h3><span>🏙</span> Smart City Features</h3>
        <div class="feature-grid">
        <div class="feature-item">
          <div class="feature-icon">♻</div>
          <h4>Waste Management</h4>
          <p>Smart recycling solutions for urban environments</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">🌞</div>
          <h4>Clean Energy</h4>
          <p>Renewable power options for city infrastructure</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">🚲</div>
          <h4>Green Transport</h4>
          <p>Eco-friendly mobility solutions</p>
        </div>
      </div>
    </div>

    <footer>
      © 2025 Sustainable Smart City Initiative | Making urban living greener and smarter
    </footer>
  </div>

  <script>
    document.getElementById("queryForm").addEventListener("submit", async function(e) {
      e.preventDefault();
      const question = document.getElementById("question").value;
      
      if (!question.trim()) {
        document.getElementById("response").innerText = "Please enter a question about sustainability or smart cities.";
        return;
      }
      
      document.getElementById("response").innerText = "Finding the best sustainable solution...";
      
      try {
        const res = await fetch("http://localhost:5000/api/query", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ question })
        });
        
        if (!res.ok) {
          throw new Error("Network response was not ok");
        }
        
        const data = await res.json();
        document.getElementById("response").innerText = data.response;
      } catch (error) {
        document.getElementById("response").innerText = "Sorry, there was an error processing your request. Please try again later.";
        console.error("Error:", error);
      }
    });

    async function loadTips() {
      try {
        const res = await fetch("http://localhost:5000/api/sustainability-tips");
        
        if (!res.ok) {
          throw new Error("Network response was not ok");
        }
        
        const data = await res.json();
        const tipsList = document.getElementById("tips");
        
        if (data.tips && data.tips.length > 0) {
          data.tips.forEach(tip => {
            const li = document.createElement("li");
            li.innerText = tip;
            tipsList.appendChild(li);
          });
        } else {
          // Default tips in case API fails or returns empty
          const defaultTips = [
            "Use reusable bags when shopping to reduce plastic waste",
            "Install smart thermostats to optimize energy usage",
            "Consider using public transportation or carpooling",
            "Start a community garden in unused urban spaces",
            "Support local businesses to reduce transportation emissions"
          ];
          
          defaultTips.forEach(tip => {
            const li = document.createElement("li");
            li.innerText = tip;
            tipsList.appendChild(li);
          });
        }
      } catch (error) {
        console.error("Error loading tips:", error);
        document.getElementById("tips").innerHTML = "<li>Use reusable bags when shopping to reduce plastic waste</li><li>Install smart thermostats to optimize energy usage</li><li>Consider using public transportation or carpooling</li>";
      }
    }

    // Initialize page
    loadTips();
  </script>
</body>
</html>